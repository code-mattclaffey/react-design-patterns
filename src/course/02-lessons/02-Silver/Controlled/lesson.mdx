import { Meta } from '@storybook/blocks';

<Meta title="Lessons/ðŸ¥ˆ Silver/ðŸŽ® Controlled Components Pattern/01-Lesson" />

# ðŸŽ® Controlled Components Pattern

The concept of controlled components involves creating components with highly predictable behavior by managing their state through props. A controlled components behavior changes based on the state passed to it as a prop.

In the example below, a Pokemon evolution modal's visibility is controlled by evolution conditions, and it accepts evolution callbacks. The parent component manages when evolution can occur based on level, stones, or friendship requirements.

```jsx
const EvolutionModal = ({ isOpen, pokemon, evolutionData, onConfirm, onCancel }) => {
  return (
    <div hidden={!isOpen}>
      <h2>{pokemon.name} is ready to evolve!</h2>
      <p>Evolve into {evolutionData.name}?</p>
      <button onClick={onConfirm}>Confirm Evolution</button>
      <button onClick={onCancel}>Cancel</button>
    </div>
  );
};

const PokemonTrainer = () => {
  const [showEvolution, setShowEvolution] = useState(false);
  const [pokemon, setPokemon] = useState({ name: 'Charmander', level: 16 });

  const checkEvolution = () => {
    if (pokemon.level >= 16) {
      setShowEvolution(true);
    }
  };

  const confirmEvolution = () => {
    setPokemon({ name: 'Charmeleon', level: pokemon.level });
    setShowEvolution(false);
  };

  return (
    <>
      <button onClick={checkEvolution}>Check Evolution</button>
      <EvolutionModal 
        isOpen={showEvolution}
        pokemon={pokemon}
        evolutionData={{ name: 'Charmeleon' }}
        onConfirm={confirmEvolution}
        onCancel={() => setShowEvolution(false)}
      />
    </>
  );
};
```

This is perfect for evolution modals as they require external conditions (level, items, friendship) to be met before they appear. The parent manages all evolution logic and state.

## Exercise

In this exercise we are going to build a Pokemon Evolution Modal component which will be controlled via props.

The task: The Pokemon trainer needs an evolution confirmation dialog that appears when their Pokemon meets evolution requirements. The modal should be controlled by the parent component managing evolution conditions.

Head over to the exercise and let's get started.

## Feedback

Feedback is a gift and it helps me make this course better for you. If you have a spare 5 mins please could you fill out a feedback form for me. Thank you.

[Feedback](https://github.com/code-mattclaffey/react-design-patterns/issues/new)